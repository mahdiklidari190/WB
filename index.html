<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RITMO - تست فرانت‌اند</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React و ReactDOM از CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel برای JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Axios برای API -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!-- Lucide React Icons (ساده، فقط SVG icons inline استفاده می‌کنم چون CDN کامل نداره) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vazir-font@30.1.0/dist/font-face.css">
    <style>
        body { font-family: 'Vazir', sans-serif; background-color: #0f172a; color: white; }
        .neon-pink { color: #ec4899; }
        .neon-blue { color: #0ea5e9; }
        .neon-purple { color: #8b5cf6; }
        .neon-green { color: #10b981; }
        /* Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // کامپوننت‌های ساده‌شده برای تست (فقط Home و Navbar، بقیه رو کامنت کردم)
        // برای icons، SVG ساده استفاده کردم (lucide-react جایگزین)

        // Icon کامپوننت ساده
        const Icon = ({ name, className }) => {
            const icons = {
                Music: '<svg class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-4c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path></svg>',
                Search: '<svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>',
                User: '<svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>',
                LogOut: '<svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>',
                Play: '<svg class="h-12 w-12" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg>',
                Heart: '<svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>',
                Download: '<svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>',
                Clock: '<svg class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>'
            };
            return React.createElement('div', { className: className, dangerouslySetInnerHTML: { __html: icons[name] || '' } });
        };

        // Navbar ساده‌شده (بدون router، فقط لینک‌های dummy)
        const Navbar = () => {
            const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
            const user = { name: 'مهدی', is_admin: true }; // dummy user برای تست

            const handleLogout = () => alert('خروج');

            return (
                <nav className="bg-gray-800 border-b border-purple-500 sticky top-0 z-50">
                    <div className="container mx-auto px-4 py-3">
                        <div className="flex items-center justify-between">
                            {/* Logo */}
                            <div className="flex items-center space-x-2 space-x-reverse">
                                <Icon name="Music" className="text-pink-400" />
                                <span className="text-2xl font-bold bg-gradient-to-r from-pink-400 to-purple-500 bg-clip-text text-transparent">
                                    RITMO
                                </span>
                            </div>

                            {/* Search Bar */}
                            <form className="hidden md:flex flex-1 max-w-2xl mx-8">
                                <div className="relative w-full">
                                    <Icon name="Search" className="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400" />
                                    <input
                                        type="text"
                                        placeholder="جستجوی آهنگ، هنرمند، آلبوم..."
                                        className="w-full bg-gray-700 text-white pr-10 pl-4 py-2 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 border border-gray-600"
                                    />
                                </div>
                            </form>

                            {/* Desktop Menu */}
                            <div className="hidden md:flex items-center space-x-4 space-x-reverse">
                                {user && (
                                    <>
                                        {user.is_admin && (
                                            <a href="#admin" className="flex items-center space-x-2 space-x-reverse bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-full transition-colors">
                                                <svg className="h-4 w-4" fill="currentColor" viewBox="0 0 20 20"><path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clipRule="evenodd"></path></svg>
                                                <span>پنل مدیریت</span>
                                            </a>
                                        )}
                                        <a href="#subscription" className="flex items-center space-x-2 space-x-reverse bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-full transition-colors">
                                            <svg className="h-4 w-4" fill="currentColor" viewBox="0 0 20 20"><path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clipRule="evenodd"></path></svg>
                                            <span>اشتراک ویژه</span>
                                        </a>
                                        <a href="#profile" className="flex items-center space-x-2 space-x-reverse hover:text-blue-400 transition-colors">
                                            <Icon name="User" />
                                            <span>{user.name}</span>
                                        </a>
                                        <button onClick={handleLogout} className="flex items-center space-x-2 space-x-reverse text-red-400 hover:text-red-300 transition-colors">
                                            <Icon name="LogOut" />
                                            <span>خروج</span>
                                        </button>
                                    </>
                                )}
                            </div>

                            {/* Mobile Menu Button */}
                            <button className="md:hidden p-2" onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}>
                                <svg className={`h-6 w-6 ${isMobileMenuOpen ? 'hidden' : ''}`} fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                                </svg>
                                <svg className={`h-6 w-6 ${!isMobileMenuOpen ? 'hidden' : ''}`} fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </button>
                        </div>

                        {/* Mobile Menu */}
                        {isMobileMenuOpen && (
                            <div className="md:hidden mt-4 pb-4 border-t border-gray-700 pt-4">
                                <div className="flex flex-col space-y-4">
                                    {user && (
                                        <>
                                            <a href="#profile" className="flex items-center space-x-2 space-x-reverse text-white">
                                                <Icon name="User" />
                                                <span>پروفایل</span>
                                            </a>
                                            {user.is_admin && (
                                                <a href="#admin" className="flex items-center space-x-2 space-x-reverse text-white">
                                                    <svg className="h-5 w-5" fill="currentColor" viewBox="0 0 20 20"><path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clipRule="evenodd"></path></svg>
                                                    <span>پنل مدیریت</span>
                                                </a>
                                            )}
                                            <button onClick={handleLogout} className="flex items-center space-x-2 space-x-reverse text-red-400">
                                                <Icon name="LogOut" />
                                                <span>خروج</span>
                                            </button>
                                        </>
                                    )}
                                </div>
                            </div>
                        )}
                    </div>
                </nav>
            );
        };

        // Home ساده‌شده (داده‌های dummy برای تست، بدون API واقعی)
        const Home = () => {
            const [trendingSongs, setTrendingSongs] = useState([
                { id: 1, title: 'آهنگ تست ۱', artist: { name: 'هنرمند ۱' }, duration: 180, cover_image: 'https://via.placeholder.com/150?text=Cover' },
                { id: 2, title: 'آهنگ تست ۲', artist: { name: 'هنرمند ۲' }, duration: 240, cover_image: 'https://via.placeholder.com/150?text=Cover' },
                // ۶ تا بیشتر اضافه کن برای تست
                { id: 3, title: 'آهنگ تست ۳', artist: { name: 'هنرمند ۳' }, duration: 200, cover_image: 'https://via.placeholder.com/150?text=Cover' },
                { id: 4, title: 'آهنگ تست ۴', artist: { name: 'هنرمند ۴' }, duration: 210, cover_image: 'https://via.placeholder.com/150?text=Cover' },
                { id: 5, title: 'آهنگ تست ۵', artist: { name: 'هنرمند ۵' }, duration: 190, cover_image: 'https://via.placeholder.com/150?text=Cover' },
                { id: 6, title: 'آهنگ تست ۶', artist: { name: 'هنرمند ۶' }, duration: 250, cover_image: 'https://via.placeholder.com/150?text=Cover' }
            ]);
            const [loading, setLoading] = useState(false);

            const formatDuration = (seconds) => {
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                return `${mins}:${secs.toString().padStart(2, '0')}`;
            };

            // شبیه‌سازی fetch (برای تست، واقعی axios رو کامنت کردم)
            useEffect(() => {
                setLoading(true);
                // axios.get('/api/songs/trending').then(res => setTrendingSongs(res.data.data)).catch(console.error);
                setTimeout(() => setLoading(false), 1000); // شبیه‌سازی loading
            }, []);

            if (loading) {
                return (
                    <div className="min-h-screen flex items-center justify-center">
                        <div className="animate-spin rounded-full h-32 w-32 border-b-2 border-pink-400"></div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-gradient-to-b from-gray-900 to-gray-800">
                    <div className="container mx-auto px-4 py-8">
                        {/* Hero */}
                        <section className="mb-12 text-center">
                            <h1 className="text-5xl font-bold mb-4 bg-gradient-to-r from-pink-400 via-purple-500 to-blue-400 bg-clip-text text-transparent">
                                به RITMO خوش آمدید
                            </h1>
                            <p className="text-xl text-gray-300 max-w-2xl mx-auto">
                                کشف کنید، گوش دهید، لذت ببرید. دنیای موسیقی فارسی در دستان شما
                            </p>
                        </section>

                        {/* Trending Songs */}
                        <section className="mb-8">
                            <h2 className="text-2xl font-bold mb-4">آهنگ های ترند</h2>
                            <div className="flex overflow-x-auto space-x-4 pb-4">
                                {trendingSongs.map((song) => (
                                    <div key={song.id} className="bg-gray-800 rounded-lg p-4 hover:bg-gray-700 transition-all group flex-shrink-0 w-48">
                                        <div className="relative">
                                            <img 
                                                src={song.cover_image} 
                                                alt={song.title}
                                                className="w-full aspect-square object-cover rounded-lg mb-3"
                                            />
                                            <button className="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-lg">
                                                <Icon name="Play" className="text-white" />
                                            </button>
                                        </div>
                                        <h3 className="font-semibold text-white truncate">{song.title}</h3>
                                        <p className="text-gray-400 text-sm truncate">{song.artist.name}</p>
                                        <div className="flex items-center justify-between mt-2">
                                            <div className="flex items-center space-x-2 space-x-reverse">
                                                <button className="text-gray-400 hover:text-pink-400 transition-colors">
                                                    <Icon name="Heart" />
                                                </button>
                                                <button className="text-gray-400 hover:text-green-400 transition-colors">
                                                    <Icon name="Download" />
                                                </button>
                                            </div>
                                            <span className="text-gray-400 text-sm flex items-center">
                                                <Icon name="Clock" className="ml-1" />
                                                {formatDuration(song.duration)}
                                            </span>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </section>

                        {/* بقیه بخش‌ها رو برای اختصار کامنت کردم – می‌تونی اضافه کنی */}
                        {/* <HorizontalScroll title="آلبوم های جدید" ... /> */}
                    </div>
                </div>
            );
        };

        // App اصلی
        const App = () => (
            <>
                <Navbar />
                <Home />
            </>
        );

        // Render
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
